# SQL BASIC WEEK 3

**[ìˆ˜ì—… ëª©í‘œ]**

1. ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ ì—°ê²°í•˜ëŠ” Joinì„ ì´í•´í•œë‹¤.
2. ì—°ê²°ëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë³´ë‹¤ í’ë¶€í•œ ë°ì´í„°ë¶„ì„ì„ ì—°ìŠµí•œë‹¤.
3. ì•„ë˜ ìœ„ë¡œ ê²°ê³¼ë¥¼ ì—°ê²°í•˜ëŠ” Unionì„ ê³µë¶€í•œë‹¤.

**[ëª©ì°¨]**

ëª¨ë“  í† ê¸€ì„ ì—´ê³  ë‹«ëŠ” ë‹¨ì¶•í‚¤
Windows : `Ctrl` + `alt` + `t` 
Mac : `âŒ˜` + `âŒ¥` + `t` 

---

## **01. ì˜¤ëŠ˜ ë°°ìš¸ ê²ƒ**

- 1) Join: ì—¬ëŸ¬ ì •ë³´ë¥¼ í•œ ëˆˆì— ë³´ê³  ì‹¶ë‹¤ë©´
    - 'ì˜¤ëŠ˜ì˜ ë‹¤ì§'ì„ ë‚¨ê¸´ íšŒì›ì˜ ì´ë¦„ì„ ì•Œê³ ì‹¶ì–´ìš”

        ì˜¤ëŠ˜ì˜ ë¯¸ì…˜! 

        'ì˜¤ëŠ˜ì˜ ë‹¤ì§' ì´ë²¤íŠ¸ ë‹¹ì²¨ìë¥¼ ì„ ì •í•˜ì—¬ ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜ì„ ì§€ê¸‰í•´ì•¼ í•´ìš”.
        ìš°ì„ , ë°°ìš´ ë‚´ìš©ì„ ì‚¬ìš©í•´ì„œ 'ì˜¤ëŠ˜ì˜ ë‹¤ì§' í…Œì´ë¸”ì„ ë¶ˆëŸ¬ì™€ ë³¼ê¹Œìš”?

        *ì˜¤ëŠ˜ì˜ ë‹¤ì§ ì´ë²¤íŠ¸: ì˜¤ëŠ˜ì˜ ë‹¤ì§ì„ ë‚¨ê²¨ì¤€ 10ëª… ì¶”ì²¨í•´ì„œ ê¸°í”„í‹°ì½˜ ì§€ê¸‰í•˜ëŠ” ì´ë²¤íŠ¸.

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled.png)

        - ì´ì œëŠ” í…Œì´ë¸” ì •ë³´ë¥¼ ì‰½ê²Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆì£ ?

        ê·¸ëŸ°ë° ë¬¸ì œê°€ ìƒê²¼ì–´ìš”!

        'ì˜¤ëŠ˜ì˜ ë‹¤ì§' ì´ë²¤íŠ¸ ë‹¹ì²¨ìë¥¼ ì¶”ì²¨í•˜ê¸° ìœ„í•´ì„œëŠ”, ì´ë¦„ê³¼ ì—°ë½ì²˜ ë“±ì˜ ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•˜ëŠ”ë° ì—¬ê¸°ì—ëŠ” user_idë¼ëŠ” ì •ë³´ë§Œ ìˆì–´ìš”.

        ë­”ê°€ user_idë¼ëŠ” ì •ë³´ì— íŒíŠ¸ê°€ ë‹´ê²¨ìˆì„ ê²ƒ ê°™ì€ë°... ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?

    - ê¸°ì¡´ì˜ ë°©ì‹ëŒ€ë¡œ í•˜ë©´...

        ìš°ì„ , íšŒì› ì •ë³´ê°€ í•„ìš”í•˜ë‹ˆ users í…Œì´ë¸”ì„ í•œë²ˆ ì‚´í´ë³¼ê¹Œìš”?

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%201.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%201.png)

        - ë§ˆì°¬ê°€ì§€ë¡œ select ì¿¼ë¦¬ë¬¸ì„ ì‚¬ìš©í•´ì„œ ì˜ ë¶ˆëŸ¬ì˜¤ì…¨ì£ ?

        ì˜¤! ë­”ê°€, ë˜‘ê°™ì€ ì´ë¦„ì˜ í•„ë“œë¥¼ ë°œê²¬í–ˆì–´ìš”. users í…Œì´ë¸”ì˜ user_id í•„ë“œì™€, checkins í…Œì´ë¸”ì˜ user_id í•„ë“œì˜ ì´ë¦„ì´ ê°™ì•„ìš”. ì´ê±¸ ì˜ ì—°ê²°ì‹œí‚¤ë©´ ë  ê²ƒ ê°™ì§€ ì•Šë‚˜ìš”?

        - ì, ì‹¤ì œë¡œ ë§ëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤! whereë¥¼ ì˜ ì“°ë©´ ë˜ê² ì£ ?

            ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled.png)

            - ìš°ì„  checkins í…Œì´ë¸”ì˜ ë§¨ ì²« ë°ì´í„° user_idì¸ 4b8a10e6ë¥¼ ë³µì‚¬í•´ ì¤ë‹ˆë‹¤.

            ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%202.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%202.png)

            - ê·¸ë¦¬ê³ , user_idê°€ 4b8a10e6ì¸ ë°ì´í„°ë¥¼ users í…Œì´ë¸”ì—ì„œ ë¶ˆëŸ¬ì™€ë³´ë‹ˆ ì´ë ‡ê²Œ ì˜ ë‚˜ì˜¤ë„¤ìš”!

            ëŒ€ì¶© ê°ì„ ì¡ì•˜ì–´ìš”!

            1. checkins í…Œì´ë¸”ì˜ user_idë¥¼ ë³µì‚¬!
            2. users í…Œì´ë¸”ì—ì„œ í•´ë‹¹ user_idë¥¼ ê°–ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸°!
            3. ì‘ì„±ìë¥¼ ì¡°íšŒí•˜ê³  ì‹¶ì€ 'ì˜¤ëŠ˜ì˜ ë‹¤ì§' ê°¯ìˆ˜ëŒ€ë¡œ 1, 2 ê³¼ì •ì„ ë°˜ë³µ!

            ì˜¤ëŠ˜ì˜ ë‹¤ì§ì„ ë‚¨ê¸´ ìœ ì € 100ëª…ì„ ì–»ì–´ì•¼ í•˜ë©´, 100ë²ˆì„ ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ì•¼ê² ì£ ? ìš°ì„  ì´ë ‡ê²Œ í•˜ëŠ”ë°... ë” ì¢‹ì€ ë°©ë²•ì´ ì—†ì„ê¹Œìš”?

        **[ì˜¤ëŠ˜ì˜ ê¿€íŒ!]** 

        í•œ í…Œì´ë¸”ì— ëª¨ë“  ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ë„ ìˆê² ì§€ë§Œ, ë¶ˆí•„ìš”í•˜ê²Œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ ì»¤ì ¸ ë¶ˆí¸í•´ì§‘ë‹ˆë‹¤.
        ****ê·¸ë˜ì„œ, ë°ì´í„°ë¥¼ ì¢…ë¥˜ë³„ë¡œ ìª¼ê°œ ë‹¤ë¥¸ í…Œì´ë¸”ì— ë‹´ì•„ë†“ê³  ì—°ê²°ì´ í•„ìš”í•œ ê²½ìš° ì—°ê²°í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ë†“ìŠµë‹ˆë‹¤. 

        ì˜ˆë¥¼ ë“¤ë©´, usersì™€ checkins í…Œì´ë¸”ì— ë™ì‹œì— ì¡´ì¬í•˜ëŠ” user_id ì²˜ëŸ¼ìš”. 
        ì´ëŸ° í•„ë“œë¥¼ ë‘ í…Œì´ë¸”ì„ ì—°ê²°ì‹œì¼œì£¼ëŠ” ì—´ì‡ ë¼ëŠ” ì˜ë¯¸ë¡œ 'key'ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

    - ìš°ë¦¬ ëª¨ë‘ì˜ ì‹œê°„ì€ ì†Œì¤‘í•˜ë‹ˆê¹Œ. Joinì„ ì‚¬ìš©í•˜ë©´?

        ì†Œì¤‘í•œ ì—¬ëŸ¬ë¶„ì˜ ì‹œê°„ì´ ë‚­ë¹„ë˜ê²Œ ë§Œë“¤ë„ë¡ ê°œë°œì ë¶„ë“¤ì€ í˜¸ë½í˜¸ë½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
        ë‘ í…Œì´ë¸”ì„ ì—°ê²°í•œë‹¤ëŠ” ì˜ë¯¸ì¸ Joinì„ ì‚¬ìš©í•˜ë©´ ì´ ê³ ë¯¼ì„ í•œ ë°©ì— í•´ê²°í•  ìˆ˜ ìˆì–´ìš”!

        - ì§ì ‘ ëˆˆìœ¼ë¡œ í•œë²ˆ ë´ë³¼ê¹Œìš”?

            ìš°ì„  ì§€ê¸ˆì€, ëˆˆìœ¼ë¡œë§Œ! 
            ì´ë²ˆ ì£¼ì— ì—´ì‹¬íˆ ë°°ìš¸ ë‚´ìš©ì…ë‹ˆë‹¤.

            ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%203.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%203.png)

            - Joinì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´, ì´ë ‡ê²Œ í•œ ëˆˆì— ë‘ ê°œì˜ í…Œì´ë¸”ì„ ì—°ê²°í•´ì„œ ë³¼ ìˆ˜ ìˆì–´ìš”.

        ì§§ì€ Join ì¿¼ë¦¬ í•œ ì¤„ë§Œ ë” ì“°ë©´, í•œë²ˆì˜ ì¿¼ë¦¬ë¡œ ì´ë ‡ê²Œ ì •ë³´ë¥¼ í•œ ëˆˆì— ë³¼ ìˆ˜ ìˆì–´ìš”!

- 2) Joinì„ ì‚¬ìš©í•œ ì—¬ëŸ¬ê°€ì§€ ì—°ìŠµì„ ì§„í–‰í•˜ê¸°

    ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ ì‚¬ìš©í•´ ì‹¤ì „ê³¼ ê°™ì€ ë°ì´í„°ë¶„ì„ì„ ì§„í–‰í•´ë´…ë‹ˆë‹¤!

    íšŒì‚¬ì—ì„œ ì¼ì„ í•˜ë‹¤ë³´ë©´, ì €ì¥ëœ ë°ì´í„°ë¡œë¶€í„° ì–»ì–´ë‚´ê³  ì‹¶ì€ ì¸ì‚¬ì´íŠ¸ê°€ ìˆê² ì£ ? 
    ìŠ¤íŒŒë¥´íƒ€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì‹¤ì „ ë°ì´í„°ë¶„ì„ì„ í•¨ê»˜ í•´ë´…ì‹œë‹¤.

## **02. ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì—°ê²°í•´ë³´ì: Join ì´ë€?**

- 3) Join ì´ë€?

    Joinì´ë€?
    ë‘ í…Œì´ë¸”ì˜ ê³µí†µëœ ì •ë³´ (keyê°’)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í…Œì´ë¸”ì„ ì—°ê²°í•´ì„œ í•œ í…Œì´ë¸”ì²˜ëŸ¼ ë³´ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”.

    ì˜ˆ) user_id í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ users í…Œì´ë¸”ê³¼ orders í…Œì´ë¸”ì„ ì—°ê²°í•´ì„œ í•œ ëˆˆì— ë³´ê³  ì‹¶ì–´ìš”!

    ìœ„ì˜ ì˜ˆì‹œì™€ ê°™ì´, ë‘ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ ì—°ê²°í•´ì„œ í•¨ê»˜ ë³´ê³ ì‹¶ì„ ë•Œê°€ ìˆê² ì£ ?

    ê·¸ëŸ´ ë•Œë¥¼ ëŒ€ë¹„í•´ì„œ ë¬´ì–¸ê°€ ì—°ê²°ëœ ì •ë³´ê°€ ìˆì„ ë•Œ, user_id ì²˜ëŸ¼ ë™ì¼í•œ ì´ë¦„ê³¼ ì •ë³´ê°€ ë‹´ê¸´ í•„ë“œë¥¼ ë‘ í…Œì´ë¸”ì— ë˜‘ê°™ì´ ë‹´ì•„ë†“ëŠ”ë‹µë‹ˆë‹¤. ì´ëŸ° í•„ë“œë¥¼ ë‘ í…Œì´ë¸”ì„ ì—°ê²°ì‹œì¼œì£¼ëŠ” ì—´ì‡ ë¼ëŠ” ì˜ë¯¸ë¡œ 'key'ë¼ê³  ë¶ˆëŸ¬ìš”.

    - ì§ì ‘ ë°ì´í„°ë¡œ ì‚´í´ë³¼ê¹Œìš”?

        ê¹œì§ í€´ì¦ˆ! ì•„ë˜ í…Œì´ë¸”ì—ì„œ (checkins í…Œì´ë¸”) keyê°’ì— í•´ë‹¹í•˜ëŠ” í•„ë“œë¥¼ ì°¾ì•„ë³´ì„¸ìš”.

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%204.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%204.png)

        - ëˆˆì¹˜ì±„ì‹  ë¶„ë„ ê³„ì‹œê² ì§€ë§Œ, ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œí•´ë†“ì€ í•„ë“œê°€ ëª¨ë‘ keyê°’ì— í•´ë‹¹í•˜ëŠ” í•„ë“œì…ë‹ˆë‹¤.

        **[ì˜¤ëŠ˜ì˜ ê¿€íŒ!]** 
        ë³‘ì›ì—ì„œ ****ì˜ì‚¬ì„ ìƒë‹˜ì´ 'í™˜ìë²ˆí˜¸ 101ë²ˆë‹˜ ì§„ë£Œë°›ìœ¼ëŸ¬ ë“¤ì–´ì˜¤ì„¸ìš”' ë¼ê³  ë¶ˆë €ëŠ”ë° ê°™ì€ í™˜ìë²ˆí˜¸ë¥¼ ê°€ì§„ ì‚¬ëŒì´ ì—¬ëŸ¬ëª…ì´ ìˆìœ¼ë©´ ëˆ„ê°€ ë“¤ì–´ì™€ì•¼ í• ì§€ í™˜ìë²ˆí˜¸ë§Œìœ¼ë¡œ ì•Œ ìˆ˜ ì—†ê² ì£ ?

        SQLì—ì„œì˜ Joinë„ ë§ˆì°¬ê°€ì§€ì—ìš”. 
        keyê°’ì„ ì‚¬ìš©í•´ ì—°ê²°í•˜ê³  ì‹¶ì€ í…Œì´ë¸”ì— ì°¾ì•„ê°€ì„œ ë˜‘ê°™ì€ ê°’ì„ ê°€ì§€ëŠ” keyë¥¼ ì°¾ê²Œ ë˜ëŠ”ë°, ë˜‘ê°™ì€ keyë¥¼ ê°€ì§€ëŠ” ë°ì´í„°ê°€ ì—¬ëŸ¬ê°œ ìˆìœ¼ë©´ ì–´ëŠ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì—°ê²°í•´ì•¼ í• ì§€ ì•Œ ìˆ˜ ì—†ì–´ìš”.

    - **[ì½”ë“œìŠ¤ë‹ˆí«] Joinì„ ì‚¬ìš©í•´ì„œ Keyê°’ìœ¼ë¡œ ë‘ í…Œì´ë¸” ì—°ê²°í•´ë³´ê¸°**

        ìì„¸í•œ ë‚´ìš©ì€ ê³§ì¥ ì„¤ëª…í•´ë“œë¦´í…Œë‹ˆ, ëˆˆìœ¼ë¡œë§Œ ë”°ë¼ì˜¤ì„¸ìš”!

        ```sql
        select * from point_users
        left join users
        on point_users.user_id = users.user_id
        ```

        ëŒ€ì¶© ê°ì´ ì¡íˆë‚˜ìš”? ì, ì´ì œ ë³¸ê²© ì‹œë™ì„ ê±¸ì–´ë³´ì£ !

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%205.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%205.png)

    **[ì˜¤ëŠ˜ì˜ ê¿€íŒ!]** í˜¹ì‹œ ì—‘ì…€ì„ ì˜ ì“°ì‹ ë‹¤ë©´? 

    SQLì˜ Joinì€ ì—‘ì…€ì˜ vlookupê³¼ ë™ì¼í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤ :-) 

- 4) Joinì˜ ì¢…ë¥˜: Left Join, Inner Join
    - Left Join: ìœ ì € ë°ì´í„°ë¡œ Left Join ì´í•´í•´ë³´ê¸°

        ì•—! ì–´ë””ì„œ ë§ì´ ë³¸ ê·¸ë¦¼ ì•„ë‹Œê°€ìš”? 

        ìƒê°í•˜ëŠ” ê·¸ ê·¸ë¦¼ì´ ë§ì•„ìš”! SQLì—ì„œì˜ Joinì€ ë‘ ì§‘í•© ì‚¬ì´ì˜ ê´€ê³„ì™€ ê°™ë‹µë‹ˆë‹¤.

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%206.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%206.png)

        - ì—¬ê¸°ì„œ Aì™€ BëŠ” ê°ê°ì˜ í…Œì´ë¸”ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë‘˜ ì‚¬ì´ì˜ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì€, ë­”ê°€ í…Œì´ë¸” Aì™€ Bì˜ key ê°’ì´ ì—°ê²°ë˜ëŠ” ë¶€ë¶„ì¼ ê²ƒ ê°™ì§€ ì•Šë‚˜ìš”?
        - **[ì½”ë“œìŠ¤ë‹ˆí«] ìœ ì € ë°ì´í„°ë¡œ Left Join ì´í•´í•´ë³´ê¸°**

            ```sql
            select * from users u
            left join point_users p
            on u.user_id = p.user_id;
            ```

        ì–´ë–¤ ë°ì´í„°ëŠ” ëª¨ë“  í•„ë“œê°€ ì±„ì›Œì ¸ìˆì§€ë§Œ, ì–´ë–¤ ë°ì´í„°ëŠ” ë¹„ì–´ìˆëŠ” í•„ë“œê°€ ìˆìŠµë‹ˆë‹¤. 

        ê½‰ì°¬ ë°ì´í„°: í•´ë‹¹ ë°ì´í„°ì˜ user_id í•„ë“œê°’ì´ point_users í…Œì´ë¸”ì— ì¡´ì¬í•´ì„œ ì—°ê²°í•œ ê²½ìš°
        ë¹„ì–´ìˆëŠ” ë°ì´í„°: í•´ë‹¹ ë°ì´í„°ì˜ user_id í•„ë“œê°’ì´ point_users í…Œì´ë¸”ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°

        - ë¹„ì–´ìˆëŠ” ë°ì´í„°ì˜ ê²½ìš°, íšŒì›ì´ì§€ë§Œ ìˆ˜ê°•ì„ ë“±ë¡/ì‹œì‘í•˜ì§€ ì•Šì•„ í¬ì¸íŠ¸ë¥¼ íšë“í•˜ì§€ ì•Šì€ íšŒì›ì¸ ê²½ìš°ì—ìš”!
        - Whereë¥¼ ì‚¬ìš©í•´ì„œ ì§ì ‘ í™•ì¸í•´ë³´ê¸°!

            ê½‰ì°¬ ë°ì´í„°, ë¹„ì–´ìˆëŠ” ë°ì´í„°ì—ì„œ í•˜ë‚˜ì”© user_idë¥¼ ë½‘ì•„ì„œ orders í…Œì´ë¸”ì—ì„œ ì¡°íšŒí•´ë³¼ê¹Œìš”?

            ê½‰ì°¬ ë°ì´í„°ì˜ user_idê°’ ì˜ˆì‹œ: d90e7626
            ë¹„ì–´ìˆëŠ” ë°ì´í„°ì˜ user_idê°’ ì˜ˆì‹œ: 3b3eac9f

            ìœ„ì˜ user_idê°’ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ í•œ ê°œì˜ ë°ì´í„°ê°€ ì¶œë ¥ë˜ì§€ë§Œ, ì•„ë˜ì˜ user_idê°’ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ë°ì´í„°ê°€ ì¶œë ¥ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

    - Inner Join: ìœ ì € ë°ì´í„°ë¡œ Inner Join ì´í•´í•´ë³´ê¸°

        ì´ê²ƒë„ ì–´ë””ì„œ ë§ì´ ë³¸ ê·¸ë¦¼ì´ì—ìš”!

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%207.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%207.png)

        - ì—¬ê¸°ì„œ Aì™€ BëŠ” ê°ê°ì˜ í…Œì´ë¸”ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ê·¸ë¦¼ì€ ë­”ê°€, ë‘ í…Œì´ë¸”ì˜ êµì§‘í•©ì„ ì´ì•¼ê¸°í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì§€ ì•Šë‚˜ìš”?
        - **[ì½”ë“œìŠ¤ë‹ˆí«] ìœ ì € ë°ì´í„°ë¡œ Inner Join ì´í•´í•´ë³´ê¸°**

            ```sql
            select * from users u
            inner join point_users p
            on u.user_id = p.user_id;
            ```

            ì•—, ì—¬ê¸°ì„œëŠ” ë¹„ì–´ìˆëŠ” í•„ë“œê°€ ìˆëŠ” ë°ì´í„°ê°€ ì—†ì–´ìš”!

            ê·¸ ì´ìœ ëŠ”, ê°™ì€ user_idë¥¼ ë‘ í…Œì´ë¸”ì—ì„œ ëª¨ë‘ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ë§Œ ì¶œë ¥í–ˆê¸° ë•Œë¬¸ì´ì—ìš”.

        - ì§„ì§œ ê·¸ëŸ°ì§€ í™•ì¸í•´ ë³¼ê¹Œìš”?

            Left Joinì„ í–ˆì„ ë•Œ ë¹ˆ í•„ë“œê°€ ì—†ëŠ” ë°ì´í„°ì˜ ê°¯ìˆ˜ì™€, Inner Joinì„ í–ˆì„ë•Œì˜ ì „ì²´ ë°ì´í„°ì˜ ê°¯ìˆ˜ê°€ ê°™ì€ì§€ í™•ì¸í•´ë³´ë©´ ë˜ê² ì£ ?

            ì €ë‘ ê°™ì´ í•´ë³¼ê¹Œìš”? 

## **03. Join ë³¸ê²© ì‚¬ìš©í•´ë³´ê¸°**

- 5) Join í•¨ê»˜ ì—°ìŠµí•´ë³´ê¸°

    ì, ì´ì œ ë³¸ê²© ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì—°ê²°í•´ ë³¼ê¹Œìš”? ë‘ê·¼ë‘ê·¼! 
    SQL ì¿¼ë¦¬ëŠ” ì§ì ‘ ì§œë©´ì„œ ê°€ì¥ ë¹ ë¥´ê²Œ ë°°ìš´ë‹µë‹ˆë‹¤.

    - [ì‹¤ìŠµ] orders í…Œì´ë¸”ì— users í…Œì´ë¸” ì—°ê²°í•´ë³´ê¸°

        ì£¼ë¬¸ ì •ë³´ì— ìœ ì € ì •ë³´ë¥¼ ì—°ê²°í•´ ë¶„ì„ì„ ìœ„í•œ ì¤€ë¹„ë¥¼ í•˜ë ¤ê³  í•©ë‹ˆë‹¤! ìš°ì„  inner Joinì„ ì‚¬ìš©í•´ì„œ ì£¼ë¬¸ ì •ë³´ì—, ìœ ì € ì •ë³´ë¥¼ ë¶™ì—¬ì„œ ë³¼ê¹Œìš”?

        - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°

            ```sql
            select * from orders o
            inner join users u
            on o.user_id = u.user_id;
            ```

        **[ì˜¤ëŠ˜ì˜ íŒ!]**
        ì£¼ë¬¸ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” íšŒì›ì •ë³´ê°€ ìˆì–´ì•¼ í• í…Œë‹ˆ, orders í…Œì´ë¸”ì— ë‹´ê¸´ user_idëŠ” ëª¨ë‘ users í…Œì´ë¸”ì— ì¡´ì¬í•˜ê² ì£ ? 

    - [ì‹¤ìŠµ] checkins í…Œì´ë¸”ì— users í…Œì´ë¸” ì—°ê²°í•´ë³´ê¸°

        'ì˜¤ëŠ˜ì˜ ë‹¤ì§' í…Œì´ë¸”ì— ìœ ì € ì •ë³´ë¥¼ ì—°ê²°í•´ ë¶„ì„ì„ ìœ„í•œ ì¤€ë¹„ë¥¼ í•˜ë ¤ê³  í•©ë‹ˆë‹¤! ìš°ì„  Inner Joinì„ ì‚¬ìš©í•´ì„œ 'ì˜¤ëŠ˜ì˜ ë‹¤ì§' í…Œì´ë¸”ì—, ìœ ì € í…Œì´ë¸”ì„ ë¶™ì—¬ì„œ ë³¼ê¹Œìš”?

        - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°

            ```sql
            select * from checkins c
            inner join users u
            on c.user_id = u.user_id;
            ```

        **[ì˜¤ëŠ˜ì˜ íŒ!]**

        ì—°ê²°ì˜ ê¸°ì¤€ì´ ë˜ê³ ì‹¶ì€ í…Œì´ë¸”ì„ from ì ˆì—, 
        ê¸°ì¤€ì´ ë˜ëŠ” í…Œì´ë¸”ì— ë¶™ì´ê³  ì‹¶ì€ í…Œì´ë¸”ì„ Join ì ˆì— ìœ„ì¹˜í•´ ë†“ìŠµë‹ˆë‹¤. 

    - [ì‹¤ìŠµ] enrolleds í…Œì´ë¸”ì— courses í…Œì´ë¸” ì—°ê²°í•´ë³´ê¸°

        'ìˆ˜ê°• ë“±ë¡' í…Œì´ë¸”ì— ê³¼ëª© ì •ë³´ë¥¼ ì—°ê²°í•´ ë¶„ì„ì„ ìœ„í•œ ì¤€ë¹„ë¥¼ í•˜ë ¤ê³  í•©ë‹ˆë‹¤! ìš°ì„  Inner Joinì„ ì‚¬ìš©í•´ì„œ 'ìˆ˜ê°• ë“±ë¡' í…Œì´ë¸”ì—, ê³¼ëª© í…Œì´ë¸”ì„ ë¶™ì—¬ì„œ ë³¼ê¹Œìš”?

        - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°

            ```sql
            select * from enrolleds e
            inner join courses c
            on e.course_id = c.course_id;
            ```

- 6) SQL ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œ

    ```sql
    select * from enrolleds e
    inner join courses c
    on e.course_id = c.course_id;
    ```

    ìœ„ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œ: from â†’ join â†’ select

    1. from enrolleds: enrolleds í…Œì´ë¸” ë°ì´í„° ì „ì²´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
    2. inner join courses on e.course_id = c.course_id: coursesë¥¼ enrolleds í…Œì´ë¸”ì— ë¶™ì´ëŠ”ë°, enrolleds í…Œì´ë¸”ì˜ course_idì™€ ë™ì¼í•œ course_idë¥¼ ê°–ëŠ” coursesì˜ í…Œì´ë¸”ì„ ë¶™ì…ë‹ˆë‹¤.
    3. select * : ë¶™ì—¬ì§„ ëª¨ë“  ë°ì´í„°ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

    í•­ìƒ fromì— ë“¤ì–´ê°„ í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ, ë‹¤ë¥¸ í…Œì´ë¸”ì´ ë¶™ëŠ”ë‹¤ê³  ìƒê°í•˜ë©´ í¸í•©ë‹ˆë‹¤!

## **04. ë°°ì› ë˜ ë¬¸ë²•ì„ Joinê³¼ í•¨ê»˜ ì‚¬ìš©í•´ë³´ê¸°**

- 7) ë°°ì› ë˜ ë¬¸ë²• Joinê³¼ í•¨ê»˜ ì—°ìŠµí•´ë³´ê¸°
    - checkins í…Œì´ë¸”ì— courses í…Œì´ë¸” ì—°ê²°í•´ì„œ í†µê³„ì¹˜ ë‚´ë³´ê¸°

        'ì˜¤ëŠ˜ì˜ ë‹¤ì§' ì •ë³´ì— ê³¼ëª© ì •ë³´ë¥¼ ì—°ê²°í•´ ê³¼ëª©ë³„ 'ì˜¤ëŠ˜ì˜ ë‹¤ì§' ê°¯ìˆ˜ë¥¼ ì„¸ì–´ë³´ì!

        - **[ì½”ë“œìŠ¤ë‹ˆí«] ê³¼ëª©ë³„ ì˜¤ëŠ˜ì˜ ë‹¤ì§ ê°¯ìˆ˜ ì„¸ì–´ë³´ê¸°**

            ```sql
            select co.title, count(co.title) as checkin_count from checkins ci
            inner join courses co
            on ci.course_id = co.course_id 
            group by co.title
            ```

        **[ì˜¤ëŠ˜ì˜ íŒ!]**

        2ì£¼ì°¨ì— ë°°ìš´ aliasëŠ” ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ í¸í•©ë‹ˆë‹¤. ì—°ê²°ë˜ëŠ” í…Œì´ë¸”ì´ ë§ì•„ì§€ë©´ì„œ í•„ë“œëª…ê³¼ í…Œì´ë¸”ëª…ì´ í—·ê°ˆë ¤ ì‹¤ìˆ˜í•  ìˆ˜ ìˆëŠ”ë°, ì´ë ‡ê²Œ aliasë¥¼ ì§€ì •í•´ ì£¼ë©´ í¸í•˜ê³  ê¹”ë”í•˜ê²Œ SQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.

    - point_users í…Œì´ë¸”ì— users í…Œì´ë¸” ì—°ê²°í•´ì„œ ìˆœì„œëŒ€ë¡œ ì •ë ¬í•´ë³´ê¸°

        ìœ ì €ì˜ í¬ì¸íŠ¸ ì •ë³´ê°€ ë‹´ê¸´ í…Œì´ë¸”ì— ìœ ì € ì •ë³´ë¥¼ ì—°ê²°í•´ì„œ, ë§ì€ í¬ì¸íŠ¸ë¥¼ ì–»ì€ ìˆœì„œëŒ€ë¡œ ìœ ì €ì˜ ë°ì´í„°ë¥¼ ë½‘ì•„ë³´ì!

        - **[ì½”ë“œìŠ¤ë‹ˆí«] ë§ì€ í¬ì¸íŠ¸ë¥¼ ì–»ì€ ìˆœì„œëŒ€ë¡œ ìœ ì € ë°ì´í„° ì •ë ¬í•´ì„œ ë³´ê¸°**

            ```sql
            select * from point_users p
            inner join users u 
            on p.user_id = u.user_id
            order by p.point desc
            ```

    - orders í…Œì´ë¸”ì— users í…Œì´ë¸” ì—°ê²°í•´ì„œ í†µê³„ì¹˜ ë‚´ë³´ê¸°

        ì£¼ë¬¸ ì •ë³´ì— ìœ ì € ì •ë³´ë¥¼ ì—°ê²°í•´ ë„¤ì´ë²„ ì´ë©”ì¼ì„ ì‚¬ìš©í•˜ëŠ” ìœ ì € ì¤‘, ì„±ì”¨ë³„ ì£¼ë¬¸ê±´ìˆ˜ë¥¼ ì„¸ì–´ë³´ì!

        - **[ì½”ë“œìŠ¤ë‹ˆí«] ë„¤ì´ë²„ ì´ë©”ì¼ ì‚¬ìš©í•˜ëŠ” ìœ ì €ì˜ ì„±ì”¨ë³„ ì£¼ë¬¸ê±´ìˆ˜ ì„¸ì–´ë³´ê¸°**

            ```sql
            select u.name, count(u.name) as count_name from orders o
            inner join users u
            on o.user_id = u.user_id 
            where u.email like '%naver.com'
            group by u.name
            ```

- 8) SQL ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œ

    ```sql
    select u.name, count(u.name) as count_name from orders o
    inner join users u
    on o.user_id = u.user_id 
    where u.email like '%naver.com'
    group by u.name
    ```

    ìœ„ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œ: from â†’ join â†’ where â†’ group by â†’ select

    1. from orders o: orders í…Œì´ë¸” ë°ì´í„° ì „ì²´ë¥¼ ê°€ì ¸ì˜¤ê³  oë¼ëŠ” ë³„ì¹­ì„ ë¶™ì…ë‹ˆë‹¤.
    2. inner join users u on o.user_id = u.user_id : users í…Œì´ë¸”ì„ orders í…Œì´ë¸”ì— ë¶™ì´ëŠ”ë°, orders í…Œì´ë¸”ì˜ user_idì™€ ë™ì¼í•œ user_idë¥¼ ê°–ëŠ” users í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶™ì…ë‹ˆë‹¤. (*users í…Œì´ë¸”ì— uë¼ëŠ” ë³„ì¹­ì„ ë¶™ì…ë‹ˆë‹¤)
    3. where u.email like '%naver.com': users í…Œì´ë¸” email í•„ë“œê°’ì´ naver.comìœ¼ë¡œ ëë‚˜ëŠ” ê°’ë§Œ ê°€ì ¸ì˜µë‹ˆë‹¤.
    4. group by u.name: users í…Œì´ë¸”ì˜ nameê°’ì´ ê°™ì€ ê°’ë“¤ì„ ë­‰ì³ì¤ë‹ˆë‹¤.
    5. select u.name, count(u.name) as count_name : users í…Œì´ë¸”ì˜ nameí•„ë“œì™€ name í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë­‰ì³ì§„ ê°¯ìˆ˜ë¥¼ ì„¸ì–´ì„œ ì¶œë ¥í•´ì¤ë‹ˆë‹¤. 

    Joinì˜ ì‹¤í–‰ ìˆœì„œëŠ” í•­ìƒ from ê³¼ ë¶™ì–´ë‹¤ë‹Œë‹¤ê³  ìƒê°í•˜ë©´ í¸í•´ìš”!

## **05. ì´ì œëŠ” ì‹¤ì „! ë³¸ê²© ì¿¼ë¦¬ ì‘ì„±í•´ë³´ê¸°**

- 9) [í€´ì¦ˆ] Join ì—°ìŠµ1

    ê²°ì œ ìˆ˜ë‹¨ ë³„ ìœ ì € í¬ì¸íŠ¸ì˜ í‰ê· ê°’ êµ¬í•´ë³´ê¸°
    (ì–´ëŠ ê²°ì œìˆ˜ë‹¨ì´ ê°€ì¥ ì—´ì‹¬íˆ ë“£ê³  ìˆë‚˜~)

    join í•  í…Œì´ë¸”: `point_users` ì—, `orders` ë¥¼ ë¶™ì´ê¸°

    ê¿€íŒ! â†’ `round(ìˆ«ì,ìë¦¿ìˆ˜)` ë¥¼ ì´ìš©í•´ì„œ ë°˜ì˜¬ë¦¼ì„ í•´ë³¼ê¹Œìš”?

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%208.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%208.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°!

        ```sql
        select o.payment_method, round(AVG(p.point)) from point_users p
        inner join orders o 
        on p.user_id = o.user_id 
        group by o.payment_method
        ```

        ì´í•´ê°€ ì•ˆ ë˜ì‹ ë‹¤ê³ ìš”? ì €ë‘ ê°™ì´ í•´ë´ìš”!

- 10) [í€´ì¦ˆ] Join ì—°ìŠµ2

    ê²°ì œí•˜ê³  ì‹œì‘í•˜ì§€ ì•Šì€ ìœ ì €ë“¤ì„ ì„±ì”¨ë³„ë¡œ ì„¸ì–´ë³´ê¸°
    (ì–´ëŠ ì„±ì´ ê°€ì¥ ì‹œì‘ì„ ì•ˆí•˜ì˜€ëŠ”ê°€~)

    join í•  í…Œì´ë¸”: `enrolleds` ì—, `users` ë¥¼ ë¶™ì´ê¸°

    ê¿€íŒ! â†’ `is_registered = 0` ì¸ ì‚¬ëŒë“¤ì„ ì„¸ì–´ë³´ì•„ìš”!

    ê¿€íŒ! â†’ `order by` ë¥¼ ì´ìš©í•´ì„œ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë©´ ë³´ê¸° ì¢‹ê² ì£ ?

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%209.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%209.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°!

        ```sql
        select name, count(*) as cnt_name from enrolleds e
        inner join users u
        on e.user_id = u.user_id 
        where is_registered = 0
        group by name
        order by cnt_name desc
        ```

        ì´í•´ê°€ ì•ˆ ë˜ì‹ ë‹¤ê³ ìš”? ì €ë‘ ê°™ì´ í•´ë´ìš”!

- 11) [í€´ì¦ˆ] Join ì—°ìŠµ3

    ê³¼ëª© ë³„ë¡œ ì‹œì‘í•˜ì§€ ì•Šì€ ìœ ì €ë“¤ì„ ì„¸ì–´ë³´ê¸°

    join í•  í…Œì´ë¸”: `courses`ì—, `enrolleds` ë¥¼ ë¶™ì´ê¸°

    ê¿€íŒ! â†’ `is_registered = 0` ì¸ ì‚¬ëŒë“¤ì„ ì„¸ì–´ë³´ì•„ìš”!

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2010.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2010.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°!

        ```sql
        select c.course_id, c.title, count(*) as cnt_notstart from courses c
        inner join enrolleds e 
        on c.course_id = e.course_id
        where is_registered = 0
        group by c.course_id
        ```

        ì´í•´ê°€ ì•ˆ ë˜ì‹ ë‹¤ê³ ìš”? ì €ë‘ ê°™ì´ í•´ë´ìš”!

## **06. ì´ë ‡ê²Œ ëë‚´ë©´ ì•„ì‰½ì£ ? í•œë²ˆ ë” ì´ë³µìŠµ!**

- 12) [í€´ì¦ˆ] Join ì—°ìŠµ4

    ì›¹ê°œë°œ, ì•±ê°œë°œ ì¢…í•©ë°˜ì˜ week ë³„ ì²´í¬ì¸ ìˆ˜ë¥¼ ì„¸ì–´ë³¼ê¹Œìš”? ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í•´ë³´ê¸°!

    join í•  í…Œì´ë¸”: `courses`ì—, `checkins` ë¥¼ ë¶™ì´ê¸°

    ê¿€íŒ! â†’ group by, order byì— `ì½¤ë§ˆ`ë¡œ ì´ì–´ì„œ ë‘ ê°œ í•„ë“œë¥¼ ê±¸ì–´ë³´ì„¸ìš”!

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2011.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2011.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°!

        ```sql
        select c1.title, c2.week, count(*) as cnt from checkins c2
        inner join courses c1 on c2.course_id = c1.course_id
        group by c1.title c2.week
        order by c1.title, c2.week
        ```

        ì´í•´ê°€ ì•ˆ ë˜ì‹ ë‹¤ê³ ìš”? ì €ë‘ ê°™ì´ í•´ë´ìš”!

- 13) [í€´ì¦ˆ] Join ì—°ìŠµ5

    ì—°ìŠµ4ë²ˆì—ì„œ, 8ì›” 1ì¼ ì´í›„ì— êµ¬ë§¤í•œ ê³ ê°ë“¤ë§Œ ë°œë¼ë‚´ì–´ ë³´ì„¸ìš”!

    join í•  í…Œì´ë¸”: `courses`ì—, `checkins` ë¥¼ ë¶™ì´ê³ !
    + `checkins` ì—, `orders` ë¥¼ í•œë²ˆ ë” ë¶™ì´ê¸°!

    ê¿€íŒ! â†’ `orders` í…Œì´ë¸”ì— inner joinì„ í•œë²ˆ ë” ê±¸ê³ , where ì ˆë¡œ ë§ˆë¬´ë¦¬!

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2012.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2012.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°!

        ```sql
        select c1.title, c2.week, count(*) as cnt from courses c1
        inner join checkins c2 on c1.course_id = c2.course_id
        inner join orders o on c2.user_id = o.user_id
        where o.created_at >= '2020-08-01'
        group by c1.title, c2.week
        order by c1.title, c2.week
        ```

        ì´í•´ê°€ ì•ˆ ë˜ì‹ ë‹¤ê³ ìš”? ì €ë‘ ê°™ì´ í•´ë´ìš”!

## **07. Left Join - ì•ˆì¨ë³´ë‹ˆê¹Œ ì„­ì„­í–ˆì£ ?**

- 14) ë‹¤ì‹œí•œë²ˆ ë³µìŠµ! inner join vs left join

    inner join ì€ êµì§‘í•©, left join ì€ ì²«ë²ˆì§¸ ì›ì— ë¶™ì´ëŠ” ê²ƒ!

    - ê·¸ë¦¼ìœ¼ë¡œ ë³µìŠµí•˜ê¸°
        - inner join

            ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%207.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%207.png)

        - left join

            ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%206.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%206.png)

    - ê·¸ë˜ì„œ! left joinì€ `ì–´ë””ì— â†’ ë­ë¥¼ ë¶™ì¼ê±´ì§€, ìˆœì„œê°€ ì¤‘ìš”`í•˜ë‹µë‹ˆë‹¤!
- 15) Left join ì–¸ì œì“¸ê¹Œìš”? (ë³µìŠµ)

    ë°”ë¡œ í•œë²ˆ ë³¼ê¹Œìš”?

    ì˜ˆë¥¼ ë“¤ë©´ ëª¨ë“  ìœ ì €ê°€ í¬ì¸íŠ¸ë¥¼ ê°–ê³  ìˆì§€ë¥¼ ì•Šì„ ìˆ˜ ìˆì–ì•„ìš”!

    - users í…Œì´ë¸”ê³¼ â†” point_users í…Œì´ë¸”ì„ left join í•´ë´…ì‹œë‹¤.

        ```jsx
        select * from users u
        left join point_users pu on u.user_id = pu.user_id
        ```

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2013.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2013.png)

    - ì´ ìƒíƒœì—ì„ , ì´ëŸ° ê²Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

        ìœ ì € ì¤‘ì—, í¬ì¸íŠ¸ê°€ ì—†ëŠ” ì‚¬ëŒ(=ì¦‰, ì‹œì‘í•˜ì§€ ì•Šì€ ì‚¬ëŒë“¤)ì˜ í†µê³„!
        ì†ë‹¥ì†ë‹¥) `is NULL` , `is not NULL` ì„ í•¨ê»˜ ë°°ì›Œë³´ì•„ìš”!

        ```jsx
        select name, count(*) from users u
        left join point_users pu on u.user_id = pu.user_id
        where pu.point_user_id is NULL
        group by name
        ```

        ```jsx
        select name, count(*) from users u
        left join point_users pu on u.user_id = pu.user_id
        where pu.point_user_id is not NULL
        group by name
        ```

- 16) [í€´ì¦ˆ] ì—¬ê¸°ì„œ í€´ì¦ˆ! - ë§‰í•´ë³´ê¸°

    7ì›”10ì¼ ~ 7ì›”19ì¼ì— ê°€ì…í•œ ê³ ê° ì¤‘,
    í¬ì¸íŠ¸ë¥¼ ê°€ì§„ ê³ ê°ì˜ ìˆ«ì, ê·¸ë¦¬ê³  ì „ì²´ ìˆ«ì, ê·¸ë¦¬ê³  ë¹„ìœ¨ì„ ë³´ê³  ì‹¶ì–´ìš”!

    ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?

    - ì´ë ‡ê²Œ ì €ë ‡ê²Œ í•´ë³¼ê¹Œìš”?

        íŒíŠ¸1 â†’ `count` ì€ NULLì„ ì„¸ì§€ ì•ŠëŠ”ë‹µë‹ˆë‹¤!

        íŒíŠ¸2 â†’ Alias(ë³„ì¹­)ë„ ì˜ ë¶™ì—¬ì£¼ì„¸ìš”!

        íŒíŠ¸3 â†’ ë¹„ìœ¨ì€ ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬ì—ì„œ ë°˜ì˜¬ë¦¼!

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2014.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2014.png)

    - ì •ë‹µ ì¿¼ë¦¬ ì‚´í´ë³´ê¸°

        ```sql
        select count(point_user_id) as pnt_user_cnt,
               count(*) as tot_user_cnt,
               round(count(point_user_id)/count(*),2) as ratio
          from users u
          left join point_users pu on u.user_id = pu.user_id
         where u.created_at between '2020-07-10' and '2020-07-20'
        ```

## **08. ê²°ê³¼ë¬¼ í•©ì¹˜ê¸°! Union ë°°ìš°ê¸°**

- 17) Selectë¥¼ ë‘ ë²ˆ í•  ê²Œ ì•„ë‹ˆë¼, í•œë²ˆì— ëª¨ì•„ì„œ ë³´ê³ ì‹¶ì€ ê²½ìš°, ìˆì„ê±¸ìš”!
    - ì˜ˆë¥¼ ë“¤ë©´ ì´ë ‡ê²Œ!

        ê·¼ë°, ê·¸ëŸ¬ë ¤ë©´ í•œ ê°€ì§€ ì¡°ê±´ì´ ìˆì–´ìš”! ë…¸ë€ìƒ‰ê³¼ íŒŒë€ìƒ‰ ë°•ìŠ¤ì˜ í•„ë“œëª…ì´ ê°™ì•„ì•¼ í•œë‹µë‹ˆë‹¤. ğŸ™‚ (ë‹¹ì—°í•˜ê² ì£ ?)

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2015.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2015.png)

- 18) Unionì„ ì´ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì€ ëª¨ìŠµì„ ë§Œë“¤ì–´ë³¼ê¹Œìš”?
    - **[ì½”ë“œìŠ¤ë‹ˆí«] - í€´ì¦ˆ5 ì¿¼ë¦¬**

        ```jsx
        select c1.title, c2.week, count(*) as cnt from courses c1
        inner join checkins c2 on c1.course_id = c2.course_id
        inner join orders o on c2.user_id = o.user_id
        where o.created_at >= '2020-08-01'
        group by c1.title, c2.week
        order by c1.title, c2.week
        ```

    - ë³´ê³  ì‹¶ì€ ëª¨ìŠµ!

        ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2016.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2016.png)

    - ìš°ì„ , 'month'ë¥¼ ë¶™ì—¬ì¤˜ì•¼ê² ë„¤ìš”!

        ```sql
        select '7ì›”' as month, c.title, c2.week, count(*) as cnt from checkins c2
        inner join courses c on c2.course_id = c.course_id
        inner join orders o on o.user_id = c2.user_id
        where o.created_at < '2020-08-01'
        group by c2.course_id, c2.week
        order by c2.course_id, c2.week
        ```

    - ì—¬ê¸°ì— ì•„ë˜ ìœ„ë¡œ `Union all`ì„ ì‚¬ìš©í•´ ë¶™ì—¬ì£¼ë©´ ë!

        ```sql
        (
        	select '7ì›”' as month, c.title, c2.week, count(*) as cnt from checkins c2
        	inner join courses c on c2.course_id = c.course_id
        	inner join orders o on o.user_id = c2.user_id
        	where o.created_at < '2020-08-01'
        	group by c2.course_id, c2.week
          order by c2.course_id, c2.week
        )
        union all
        (
        	select '8ì›”' as month, c.title, c2.week, count(*) as cnt from checkins c2
        	inner join courses c on c2.course_id = c.course_id
        	inner join orders o on o.user_id = c2.user_id
        	where o.created_at > '2020-08-01'
        	group by c2.course_id, c2.week
          order by c2.course_id, c2.week
        )
        ```

    - ì•—, ê·¸ëŸ°ë°, í•œ ê°€ì§€! ì •ë ¬ì´ ê¹¨ì¡Œë„¤ìš”!? ğŸ˜‚

        ë„¤ ë§ìŠµë‹ˆë‹¤! unionì„ ì‚¬ìš©í•˜ë©´ ë‚´ë¶€ ì •ë ¬ì´ ë¨¹ì§€ ì•Šì•„ìš”.
        ì´ ë•Œ ìœ ìš©í•œ ë°©ë²•ì´ ìˆì§€ìš”. ë°”ë¡œ, SubQuery(ì„œë¸Œì¿¼ë¦¬) !

        - ê·¸ëŸ°ë° ì´ë²ˆì£¼ëŠ” í‘¹ ì‰¬êµ¬ìš”! 4ì£¼ì°¨ì— ë‚˜ì˜¬ ê±°ë‹ˆê¹Œ ê¸°ëŒ€í•´ì£¼ì„¸ìš”!

## 09**. ë & ìˆ™ì œ ì„¤ëª…**

ì´ë²ˆ 3ì£¼ì°¨ë„ ê³ ìƒ ë§ì•˜ìŠµë‹ˆë‹¤. ì—­ì‹œ í•œ ì£¼ì˜ ë§ˆë¬´ë¦¬ëŠ” ìˆ™ì œì£ !

ìˆ™ì œ: enrolled_idë³„ ìˆ˜ê°•ì™„ë£Œ(done=1)í•œ ê°•ì˜ ê°¯ìˆ˜ë¥¼ ì„¸ì–´ë³´ê³ , ì™„ë£Œí•œ ê°•ì˜ ìˆ˜ê°€ ë§ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬í•´ë³´ê¸°. user_idë„ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•œë‹¤.

- íŒíŠ¸!
    - ì¡°ì¸í•´ì•¼ í•˜ëŠ” í…Œì´ë¸”: `enrolleds`, `enrolleds_detail`
    - ì¡°ì¸í•˜ëŠ” í•„ë“œ: `enrolled_id`
- ê²°ê³¼

    ![SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2017.png](SQL%20BASIC%20WEEK%203%20501599a6ac874eb0bf50d533dbe137f8/Untitled%2017.png)

    ì´ëŸ° ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´ ì •ë‹µ! ğŸ‘

## 10. 3ì£¼ì°¨ ìˆ™ì œ ë‹µì•ˆ ì½”ë“œ

- **[ì½”ë“œìŠ¤ë‹ˆí«] - 3ì£¼ì°¨ ìˆ™ì œ ë‹µì•ˆ ì½”ë“œ**

    ```sql
    select e.enrolled_id,
    	     e.user_id,
    	     count(*) as cnt
      from enrolleds e
     inner join enrolleds_detail ed on e.enrolled_id = ed.enrolled_id
     where ed.done = 1
     group by e.enrolled_id, e.user_id
     order by cnt desc
    ```